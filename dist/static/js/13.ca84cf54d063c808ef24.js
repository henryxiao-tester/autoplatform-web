webpackJsonp([13],{"8B5E":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("FaxB"),s=a("X2Oc"),n={name:"saas-clients-index",data:function(){return{inputData:"",packageClassName:" ",caseSuiteData:[],currentCaseSuiteId:"",addCaseSuiteVisible:!1,len:0,currentPage:1,caseListPage:1,dialogTableVisible:!1,dialogFormVisible:!1,Visible:!1,dataList:[],formLabelWidth:"120px",currentUpdateData:{id:"",caseName:"",caseSuite:[],author:"",description:""},addCase:{caseName:"",description:"",author:""}}},methods:{getList:function(){var t=this;this.$axios.post(i.b.domain+i.a.getCaseInfo,{pageSize:1}).then(function(e){200===e.data.code&&(t.dataList=e.data.data)})},addCaseSuite:function(){this.addCaseSuiteVisible=!0},sureCaseSuiteModify:function(){var t=this;if(Object(s.b)(this.addCase.caseName))return this.openWarning("用例集名称不能为空","error"),null;this.$axios.post(i.b.domain+i.a.addCase,{caseName:this.addCase.caseName}).then(function(e){200===e.data.code?(t.addCaseSuiteVisible=!1,t.openWarning(e.data.message,"success")):t.openWarning(e.data.message,"error")})},bindingCaseData:function(t){var e=this;this.currentCaseSuiteId=t.id,this.$axios.post(i.b.domain+i.a.getCaseSuiteInfo,{currentPage:1}).then(function(t){200===t.data.code?(e.caseSuiteData=null,console.log(t.data.data),e.dialogTableVisible=!0,e.caseSuiteData=t.data.data,e.len=e.caseSuiteData.length):e.openWarning(t.data.message,"error")})},selectCaseData:function(){var t=this;Object(s.b)(this.inputData)?this.$axios.post(i.b.domain+i.a.getCaseInfo,{pageSize:1}).then(function(e){t.dataList=e.data.data}):this.$axios.post(i.b.domain+i.a.findCaseInfo,{pageSize:1,caseName:this.inputData}).then(function(e){t.dataList=e.data.data})},handleUpdate:function(t){this.Visible=!0,this.currentUpdateData.id=t.id,this.currentUpdateData.caseName=t.caseName,this.currentUpdateData.caseSuite=t.caseSuite,this.currentUpdateData.author=t.author,this.currentUpdateData.description=t.description},sureModify:function(){var t=this;this.$axios.post(i.b.domain+i.a.updateCaseInfo,{caseId:this.currentUpdateData.id,caseName:this.currentUpdateData.caseName,caseSuit:this.currentUpdateData.caseSuite,author:this.currentUpdateData.author,description:this.description}).then(function(e){200===e.data.code?(t.Visible=!1,t.openWarning(e.data.message,"success")):t.openWarning(e.data.message,"error")})},handleDelete:function(t){var e=this;this.$confirm("此操作将删除此用例, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){"confirm"===t&&(e.$axios.post(i.b.domain+i.a.deleteCaseInfo,{caseId:e.currentUpdateData.id}).then(function(t){200===t.data.code?e.$message({type:"success",message:"删除成功!"}):e.$message({type:"info",message:"请求异常"})}),e.$axios.post(i.b.domain+i.a.getCaseInfo,{pageSize:1}).then(function(t){e.dataList=t.data.data}))}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},changeSwitch:function(t){console.log(t)},selectCaseSuite:function(){var t=this;Object(s.b)(this.packageClassName)?this.$axios.post(i.b.domain+i.a.getCaseSuiteInfo,{pageSize:1}).then(function(e){t.caseSuiteData=e.data.data}):this.$axios.post(i.b.domain+i.a.findCaseSuiteInfo,{packageClassName:this.packageClassName}).then(function(e){console.log(i.a.findCaseSuiteInfo),console.log(e.data.data[0]),t.caseSuiteData=e.data.data})},handleCurrentChange:function(t){this.currentPage=t},handleCaseListPageChange:function(t){this.caseListPage=t},openWarning:function(t,e){this.$message({message:t,type:e})}},created:function(){this.getList()},computed:{showCaseSuiteTable:function(){return this.caseSuiteData.slice(10*(this.currentPage-1),10*this.currentPage)},showCaseList:function(){return this.dataList.slice(20*(this.caseListPage-1),20*this.caseListPage)}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"app-container"},[a("el-card",{attrs:{shadow:"never"}},[a("el-input",{staticStyle:{width:"200px","margin-bottom":"20px"},attrs:{placeholder:"请输用例集名称",clearable:""},model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.selectCaseData}},[t._v("查询")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"30px"},attrs:{type:"primary"},on:{click:t.addCaseSuite}},[t._v("添加用例集")]),t._v(" "),a("el-dialog",{attrs:{title:"绑定用例",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-input",{staticStyle:{width:"200px","margin-bottom":"20px"},attrs:{placeholder:"请输包类名",clearable:""},model:{value:t.packageClassName,callback:function(e){t.packageClassName=e},expression:"packageClassName"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.selectCaseSuite}},[t._v("查询")]),t._v(" "),a("span",{staticStyle:{float:"right","margin-right":"30px","font-size":"20px","padding-top":"5px"}},[t._v("当前用例集ID:    "+t._s(t.currentCaseSuiteId))]),t._v(" "),a("el-table",{attrs:{data:t.showCaseSuiteTable}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(10*(t.currentPage-1)+e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"packageName",label:"包类名","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{property:"status",label:"状态",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"inactive-value":0,"active-value":1,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return t.changeSwitch(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogTableVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogTableVisible=!1}}},[t._v("确 定")])],1),t._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next",total:this.len,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.showCaseList,border:""}},[a("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(20*(t.caseListPage-1)+e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"id",label:"用例集ID"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"caseName",label:"用例集名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"caseSuite",label:"绑定用例","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"description",label:"描述信息"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"author",label:"作者"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"createTime",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"updateTime",label:"更新时间"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleUpdate(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.bindingCaseData(e.row)}}},[t._v("绑定用例")])]}}])})],1),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{plain:!0},on:{click:t.openWarning}}),t._v(" "),a("el-pagination",{staticStyle:{float:"right",margin:"20px"},attrs:{background:"",layout:"prev, pager, next",total:this.dataList.length,"page-size":20},on:{"current-change":t.handleCaseListPageChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改当前用例集",visible:t.Visible,width:"600px"},on:{"update:visible":function(e){t.Visible=e}}},[a("el-form",{attrs:{model:t.currentUpdateData}},[a("el-form-item",{attrs:{label:"用例集Id：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:t.currentUpdateData.id,callback:function(e){t.$set(t.currentUpdateData,"id",e)},expression:"currentUpdateData.id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用例集名称：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.currentUpdateData.caseName,callback:function(e){t.$set(t.currentUpdateData,"caseName",e)},expression:"currentUpdateData.caseName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"绑定用例：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.currentUpdateData.caseSuite[0],callback:function(e){t.$set(t.currentUpdateData.caseSuite,0,e)},expression:"currentUpdateData.caseSuite[0]"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述信息：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.currentUpdateData.description,callback:function(e){t.$set(t.currentUpdateData,"description",e)},expression:"currentUpdateData.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"作者：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.currentUpdateData.author,callback:function(e){t.$set(t.currentUpdateData,"author",e)},expression:"currentUpdateData.author"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.Visible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureModify}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加用例集",visible:t.addCaseSuiteVisible,width:"600px"},on:{"update:visible":function(e){t.addCaseSuiteVisible=e}}},[a("el-form",{attrs:{model:t.addCase}},[a("el-form-item",{attrs:{label:"用例集名称：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addCase.caseName,callback:function(e){t.$set(t.addCase,"caseName",e)},expression:"addCase.caseName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述信息：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addCase.description,callback:function(e){t.$set(t.addCase,"description",e)},expression:"addCase.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"作者：","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addCase.author,callback:function(e){t.$set(t.addCase,"author",e)},expression:"addCase.author"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addCaseSuiteVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureCaseSuiteModify}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]},l=a("C7Lr")(n,o,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=13.ca84cf54d063c808ef24.js.map